# 1월 26일 TIL 🔥

# useEffect 주의점



 그냥 렌더링 도와주는 Hook이라고 생각하고 막 사용하다가 수습하기 힘든 지경까지 가게 된..ㅠ

그래서 간단하게 주의할 점만 짚고 넘어가려고 합니다!

## 클린업 이벤트?



 useEffect Hook은 사용하면 다 사용했다고 알려줘야(?)하는 친구입니다. 안그러면 빨간 글로 *cleanup function*어쩌구저쩌구 하면서 에러를 발생시킵니다.

 하는 방법은 아래 사진과 같습니다.

![](https://images.velog.io/images/originxh/post/83e510e1-8b33-40a8-bc4f-72a27868bc93/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-26%2015.43.42.png)

![](https://images.velog.io/images/originxh/post/c09ff57c-d640-4c55-9de9-a7c0cbbd4ce5/what.jpg)

???: 뭐하잔거죠? 그냥 코드 아닙니까?

네 그냥 코드입니다 ㅋ

저는 저것도 안해서 안만나도 될 에러를 만났네요ㅎ..

코드를 작성하고 return으로 마무리 지어줘야 useEffect가 마무리됩니다.

코드량이 적을때는 무리없이 실행됬는데 점점 커지다보니 이런것도 신경써야 한다는 점..

*💡리턴값은 DOM렌더링이 끝나고 실행됩니다! (참고)*

## 무한루프



![](https://images.velog.io/images/originxh/post/34026dcf-99d8-496b-b913-2ddb3d7f88a8/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-26%2015.55.01.png)

 useEffect사용하면 한번쯤 봤을 광경(?)입니다.

처음에 너무 당황해서 컴터를 그냥 닫아버렸습니다..ㅎ

이 문제도 간단합니다.

![](https://images.velog.io/images/originxh/post/41b5a954-e3f6-4ff7-a737-5e5af12b0ab3/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-26%2015.51.38.png)

Hook두번째 인자에 []를 넣어줍니다.

“[]”는 **의존성 배열**이라고 합니다. 빈 배열을 넣어주면 그냥 렌더링 한 번만 실행되고 만약 저기에 상태값을 넣어준다면 그 상태가 변경될 때마다 useEffect가 실행됩니다.