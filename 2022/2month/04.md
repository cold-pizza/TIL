# 02/04 TIL 🔥

# React) 채팅기록 순서대로 나오게 하기(2차 배열)

## 1. 순서대로 나오게 하기 위해 기존의 배열을 2차 배열로 변환.

![](https://images.velog.io/images/originxh/post/ef2819fa-59ed-4c4d-adbd-499045c7858c/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-02-04%2009.53.28.png)

 일반 배열을 넣으면 유저의 id값을 비교하여 2차배열로 만들어주는 함수를 만들었습니다.

## 2. map()함수로 순회하기

![](https://images.velog.io/images/originxh/post/2620409e-7d91-4904-a684-3cd36df65df1/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-02-04%2009.57.15.png)

 chatSequeaceFn()을 map()함수로 돌리며 당사자가 채팅을 시작했으면 자기쪽에 먼저 채팅기록을 보내게 만들고 나머지는 반대로 되게 만들었습니다. 

## 결과

![](https://images.velog.io/images/originxh/post/230572a2-1ac8-450c-82cc-2dbc6caf9bc3/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-02-04%2010.00.46.png)

 저희가 알던 채팅처럼 나오기 시작했습니다! 원래 상대방채팅을 따로 나오게 하는건 금방 만들었는데 그렇게 만드니까 채팅등록했을 때 저렇게 사이사이에 내 채팅이 끼여서 나오질 않고 밀려나기식(?)으로 나와서 그런 이상한 버그가 있었습니다

 아직 알고있는 메서드가 많질 않고 찾아봐도 이해를 못해서 손수 제가 알고리즘을 만들었네요ㅜ 기억하기위해 기록해둡니다,,